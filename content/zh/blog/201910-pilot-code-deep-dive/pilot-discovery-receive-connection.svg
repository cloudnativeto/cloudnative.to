<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="717" height="366" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:717px;height:366px" preserveAspectRatio="none" version="1.1" viewBox="0 0 717 366" zoomAndPan="magnify"><g><line style="stroke:#383838;stroke-width:1" x1="214" x2="214" y1="34.297" y2="166.828"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="214" x2="214" y1="166.828" y2="207.633"/><line style="stroke:#383838;stroke-width:1" x1="214" x2="214" y1="207.633" y2="326.164"/><line style="stroke:#383838;stroke-width:1" x1="330" x2="330" y1="34.297" y2="166.828"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="330" x2="330" y1="166.828" y2="207.633"/><line style="stroke:#383838;stroke-width:1" x1="330" x2="330" y1="207.633" y2="326.164"/><line style="stroke:#383838;stroke-width:1" x1="463" x2="463" y1="34.297" y2="166.828"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="463" x2="463" y1="166.828" y2="207.633"/><line style="stroke:#383838;stroke-width:1" x1="463" x2="463" y1="207.633" y2="326.164"/><line style="stroke:#383838;stroke-width:1" x1="584" x2="584" y1="34.297" y2="166.828"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="584" x2="584" y1="166.828" y2="207.633"/><line style="stroke:#383838;stroke-width:1" x1="584" x2="584" y1="207.633" y2="326.164"/><line style="stroke:#383838;stroke-width:1" x1="672" x2="672" y1="34.297" y2="166.828"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="672" x2="672" y1="166.828" y2="207.633"/><line style="stroke:#383838;stroke-width:1" x1="672" x2="672" y1="207.633" y2="326.164"/><rect style="stroke:#383838;stroke-width:1.5" width="87" height="30.297" x="171" y="3" fill="#F8F8F8"/><text x="178" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73">PilotServer</text><rect style="stroke:#383838;stroke-width:1.5" width="87" height="30.297" x="171" y="325.164" fill="#F8F8F8"/><text x="178" y="345.159" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73">PilotServer</text><rect style="stroke:#383838;stroke-width:1.5" width="125" height="30.297" x="268" y="3" fill="#F8F8F8"/><text x="275" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111">DiscoveryServer</text><rect style="stroke:#383838;stroke-width:1.5" width="125" height="30.297" x="268" y="325.164" fill="#F8F8F8"/><text x="275" y="345.159" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111">DiscoveryServer</text><rect style="stroke:#383838;stroke-width:1.5" width="120" height="30.297" x="403" y="3" fill="#F8F8F8"/><text x="410" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106">XdsConnection</text><rect style="stroke:#383838;stroke-width:1.5" width="120" height="30.297" x="403" y="325.164" fill="#F8F8F8"/><text x="410" y="345.159" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106">XdsConnection</text><rect style="stroke:#383838;stroke-width:1.5" width="102" height="30.297" x="533" y="3" fill="#F8F8F8"/><text x="540" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88">GRPC Server</text><rect style="stroke:#383838;stroke-width:1.5" width="102" height="30.297" x="533" y="325.164" fill="#F8F8F8"/><text x="540" y="345.159" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88">GRPC Server</text><rect style="stroke:#383838;stroke-width:1.5" width="55" height="30.297" x="645" y="3" fill="#F8F8F8"/><text x="652" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41">Envoy</text><rect style="stroke:#383838;stroke-width:1.5" width="55" height="30.297" x="645" y="325.164" fill="#F8F8F8"/><text x="652" y="345.159" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41">Envoy</text><rect style="stroke:#eee;stroke-width:1" width="702" height="3" x="3" y="64.863" fill="#EEE"/><line style="stroke:#000;stroke-width:1" x1="3" x2="705" y1="64.863" y2="64.863"/><line style="stroke:#000;stroke-width:1" x1="3" x2="705" y1="67.863" y2="67.863"/><rect style="stroke:#000;stroke-width:2" width="171" height="23.133" x="268.5" y="54.297" fill="#EEE"/><text x="274.5" y="70.364" fill="#000" font-family="FG Virgil" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152">Receive Connections</text><polygon fill="#383838" points="572 104.563 582 108.563 572 112.563 576 108.563" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="214.5" x2="578" y1="108.563" y2="108.563"/><text x="221.5" y="103.497" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43">Create</text><polygon fill="#383838" points="572 144.262 582 148.262 572 152.262 576 148.262" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="330.5" x2="578" y1="148.262" y2="148.262"/><text x="337.5" y="143.196" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99">RegisterService</text><path fill="#ECECEC" d="M66,121.5625 L66,161.5625 L325,161.5625 L325,131.5625 L315,121.5625 L66,121.5625" style="stroke:#383838;stroke-width:1"/><path fill="#ECECEC" d="M315,121.5625 L315,131.5625 L325,131.5625 L315,121.5625" style="stroke:#383838;stroke-width:1"/><text x="72" y="138.629" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238">pilot/pkg/proxy/envoy/v2/discovery.go</text><text x="72" y="153.762" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160">DiscoveryServer.Register</text><polygon fill="#383838" points="595 224.766 585 228.766 595 232.766 591 228.766" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="589" x2="671.5" y1="228.766" y2="228.766"/><text x="601" y="223.7" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35">GRPC</text><polygon fill="#383838" points="341.5 264.465 331.5 268.465 341.5 272.465 337.5 268.465" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="335.5" x2="583" y1="268.465" y2="268.465"/><text x="347.5" y="263.399" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51">callback</text><path fill="#ECECEC" d="M8,241.7656 L8,281.7656 L326,281.7656 L326,251.7656 L316,241.7656 L8,241.7656" style="stroke:#383838;stroke-width:1"/><path fill="#ECECEC" d="M316,241.7656 L316,251.7656 L326,251.7656 L316,241.7656" style="stroke:#383838;stroke-width:1"/><text x="14" y="258.832" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201">pilot/pkg/proxy/envoy/v2/ads.go</text><text x="14" y="273.965" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297">DiscoveryServer.StreamAggregatedResources</text><polygon fill="#383838" points="451 304.164 461 308.164 451 312.164 455 308.164" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="330.5" x2="457" y1="308.164" y2="308.164"/><text x="337.5" y="303.098" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43">Create</text></g></svg>