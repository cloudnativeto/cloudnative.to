<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="705" height="872" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:705px;height:872px" preserveAspectRatio="none" version="1.1" viewBox="0 0 705 872" zoomAndPan="magnify"><g><rect style="stroke:#383838;stroke-width:1" width="10" height="524.84" x="234.5" y="297.598" fill="#FFF"/><rect style="stroke:#000;stroke-width:2" width="516.5" height="463.141" x="167" y="352.297" fill="#FFF"/><rect style="stroke:none;stroke-width:1" width="516.5" height="115.203" x="167" y="469.828" fill="#FFF"/><rect style="stroke:none;stroke-width:1" width="516.5" height="115.203" x="167" y="585.031" fill="#FFF"/><rect style="stroke:none;stroke-width:1" width="516.5" height="115.203" x="167" y="700.234" fill="#FFF"/><line style="stroke:#383838;stroke-width:1" x1="239" x2="239" y1="34.297" y2="225.094"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="239" x2="239" y1="225.094" y2="265.898"/><line style="stroke:#383838;stroke-width:1" x1="239" x2="239" y1="265.898" y2="832.438"/><line style="stroke:#383838;stroke-width:1" x1="433.5" x2="433.5" y1="34.297" y2="225.094"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="433.5" x2="433.5" y1="225.094" y2="265.898"/><line style="stroke:#383838;stroke-width:1" x1="433.5" x2="433.5" y1="265.898" y2="832.438"/><line style="stroke:#383838;stroke-width:1" x1="555.5" x2="555.5" y1="34.297" y2="225.094"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="555.5" x2="555.5" y1="225.094" y2="265.898"/><line style="stroke:#383838;stroke-width:1" x1="555.5" x2="555.5" y1="265.898" y2="832.438"/><line style="stroke:#383838;stroke-width:1" x1="645.5" x2="645.5" y1="34.297" y2="225.094"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:1,4" x1="645.5" x2="645.5" y1="225.094" y2="265.898"/><line style="stroke:#383838;stroke-width:1" x1="645.5" x2="645.5" y1="265.898" y2="832.438"/><rect style="stroke:#383838;stroke-width:1.5" width="125" height="30.297" x="177" y="3" fill="#F8F8F8"/><text x="184" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111">DiscoveryServer</text><rect style="stroke:#383838;stroke-width:1.5" width="125" height="30.297" x="177" y="831.438" fill="#F8F8F8"/><text x="184" y="851.433" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111">DiscoveryServer</text><rect style="stroke:#383838;stroke-width:1.5" width="120" height="30.297" x="373.5" y="3" fill="#F8F8F8"/><text x="380.5" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106">XdsConnection</text><rect style="stroke:#383838;stroke-width:1.5" width="120" height="30.297" x="373.5" y="831.438" fill="#F8F8F8"/><text x="380.5" y="851.433" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106">XdsConnection</text><path fill="#F8F8F8" d="M508.5,8 L603.5,8 C608.5,8 608.5,21.1484 608.5,21.1484 C608.5,21.1484 608.5,34.2969 603.5,34.2969 L508.5,34.2969 C503.5,34.2969 503.5,21.1484 503.5,21.1484 C503.5,21.1484 503.5,8 508.5,8" style="stroke:#383838;stroke-width:2"/><path fill="none" d="M603.5,8 C598.5,8 598.5,21.1484 598.5,21.1484 C598.5,34.2969 603.5,34.2969 603.5,34.2969" style="stroke:#383838;stroke-width:2"/><text x="508.5" y="25.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85">ReqChannel</text><path fill="#F8F8F8" d="M508.5,831.4375 L603.5,831.4375 C608.5,831.4375 608.5,844.5859 608.5,844.5859 C608.5,844.5859 608.5,857.7344 603.5,857.7344 L508.5,857.7344 C503.5,857.7344 503.5,844.5859 503.5,844.5859 C503.5,844.5859 503.5,831.4375 508.5,831.4375" style="stroke:#383838;stroke-width:2"/><path fill="none" d="M603.5,831.4375 C598.5,831.4375 598.5,844.5859 598.5,844.5859 C598.5,857.7344 603.5,857.7344 603.5,857.7344" style="stroke:#383838;stroke-width:2"/><text x="508.5" y="849.433" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85">ReqChannel</text><rect style="stroke:#383838;stroke-width:1.5" width="55" height="30.297" x="618.5" y="3" fill="#F8F8F8"/><text x="625.5" y="22.995" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41">Envoy</text><rect style="stroke:#383838;stroke-width:1.5" width="55" height="30.297" x="618.5" y="831.438" fill="#F8F8F8"/><text x="625.5" y="851.433" fill="#000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41">Envoy</text><rect style="stroke:#383838;stroke-width:1" width="10" height="524.84" x="234.5" y="297.598" fill="#FFF"/><rect style="stroke:#eee;stroke-width:1" width="690.5" height="3" x="3" y="64.863" fill="#EEE"/><line style="stroke:#000;stroke-width:1" x1="3" x2="693.5" y1="64.863" y2="64.863"/><line style="stroke:#000;stroke-width:1" x1="3" x2="693.5" y1="67.863" y2="67.863"/><rect style="stroke:#000;stroke-width:2" width="130" height="23.133" x="283.25" y="54.297" fill="#EEE"/><text x="289.25" y="70.364" fill="#000" font-family="FG Virgil" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106">client Request</text><polygon fill="#383838" points="444.5 104.563 434.5 108.563 444.5 112.563 440.5 108.563" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="438.5" x2="645" y1="108.563" y2="108.563"/><text x="450.5" y="103.497" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">DiscoveryRequest</text><polygon fill="#383838" points="421.5 144.262 431.5 148.262 421.5 152.262 425.5 148.262" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="239.5" x2="427.5" y1="148.262" y2="148.262"/><text x="246.5" y="143.196" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49">Receive</text><path fill="#ECECEC" d="M12,121.5625 L12,161.5625 L234,161.5625 L234,131.5625 L224,121.5625 L12,121.5625" style="stroke:#383838;stroke-width:1"/><path fill="#ECECEC" d="M224,121.5625 L224,131.5625 L234,131.5625 L224,121.5625" style="stroke:#383838;stroke-width:1"/><text x="18" y="138.629" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201">pilot/pkg/proxy/envoy/v2/ads.go</text><text x="18" y="153.762" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90">receiveThread</text><polygon fill="#383838" points="250.5 183.961 240.5 187.961 250.5 191.961 246.5 187.961" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:2,2" x1="244.5" x2="432.5" y1="187.961" y2="187.961"/><text x="256.5" y="182.895" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">DiscoveryRequest</text><polygon fill="#383838" points="544 213.094 554 217.094 544 221.094 548 217.094" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="239.5" x2="550" y1="217.094" y2="217.094"/><text x="246.5" y="212.028" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">DiscoveryRequest</text><polygon fill="#383838" points="544 293.598 554 297.598 544 301.598 548 297.598" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="550" y1="297.598" y2="297.598"/><text x="251.5" y="292.532" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75">GetRequest</text><path fill="#ECECEC" d="M8,270.8984 L8,310.8984 L230,310.8984 L230,280.8984 L220,270.8984 L8,270.8984" style="stroke:#383838;stroke-width:1"/><path fill="#ECECEC" d="M220,270.8984 L220,280.8984 L230,280.8984 L220,270.8984" style="stroke:#383838;stroke-width:1"/><text x="14" y="287.965" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201">pilot/pkg/proxy/envoy/v2/ads.go</text><text x="14" y="303.098" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189">StreamAggregatedResources</text><polygon fill="#383838" points="255.5 333.297 245.5 337.297 255.5 341.297 251.5 337.297" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1;stroke-dasharray:2,2" x1="249.5" x2="555" y1="337.297" y2="337.297"/><text x="261.5" y="332.231" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">DiscoveryRequest</text><path fill="#EEE" d="M167,352.2969 L231,352.2969 L231,359.2969 L221,369.2969 L167,369.2969 L167,352.2969" style="stroke:#000;stroke-width:1"/><rect style="stroke:#000;stroke-width:2" width="516.5" height="463.141" x="167" y="352.297" fill="none"/><text x="182" y="365.364" fill="#000" font-family="FG Virgil" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19">alt</text><text x="246" y="364.507" fill="#000" font-family="FG Virgil" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91">[Cluster Type]</text><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="286.5" y1="390.563" y2="390.563"/><line style="stroke:#383838;stroke-width:1" x1="286.5" x2="286.5" y1="390.563" y2="403.563"/><line style="stroke:#383838;stroke-width:1" x1="245.5" x2="286.5" y1="403.563" y2="403.563"/><polygon fill="#383838" points="255.5 399.563 245.5 403.563 255.5 407.563 251.5 403.563" style="stroke:#383838;stroke-width:1"/><text x="251.5" y="385.497" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59">pushCDS</text><polygon fill="#383838" points="421.5 428.695 431.5 432.695 421.5 436.695 425.5 432.695" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="427.5" y1="432.695" y2="432.695"/><text x="251.5" y="427.629" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165">send(DiscoveryResponse)</text><polygon fill="#383838" points="634 457.828 644 461.828 634 465.828 638 461.828" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="433.5" x2="640" y1="461.828" y2="461.828"/><text x="440.5" y="456.762" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124">DiscoveryResponse</text><line style="stroke:#000;stroke-width:1;stroke-dasharray:2,2" x1="167" x2="683.5" y1="470.828" y2="470.828"/><text x="172" y="481.039" fill="#000" font-family="FG Virgil" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118">[Listener Request]</text><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="286.5" y1="505.766" y2="505.766"/><line style="stroke:#383838;stroke-width:1" x1="286.5" x2="286.5" y1="505.766" y2="518.766"/><line style="stroke:#383838;stroke-width:1" x1="245.5" x2="286.5" y1="518.766" y2="518.766"/><polygon fill="#383838" points="255.5 514.766 245.5 518.766 255.5 522.766 251.5 518.766" style="stroke:#383838;stroke-width:1"/><text x="251.5" y="500.7" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57">pushLDS</text><polygon fill="#383838" points="421.5 543.898 431.5 547.898 421.5 551.898 425.5 547.898" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="427.5" y1="547.898" y2="547.898"/><text x="251.5" y="542.832" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165">send(DiscoveryResponse)</text><polygon fill="#383838" points="634 573.031 644 577.031 634 581.031 638 577.031" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="433.5" x2="640" y1="577.031" y2="577.031"/><text x="440.5" y="571.965" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124">DiscoveryResponse</text><line style="stroke:#000;stroke-width:1;stroke-dasharray:2,2" x1="167" x2="683.5" y1="586.031" y2="586.031"/><text x="172" y="596.242" fill="#000" font-family="FG Virgil" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123">[Endpoint Request]</text><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="286.5" y1="620.969" y2="620.969"/><line style="stroke:#383838;stroke-width:1" x1="286.5" x2="286.5" y1="620.969" y2="633.969"/><line style="stroke:#383838;stroke-width:1" x1="245.5" x2="286.5" y1="633.969" y2="633.969"/><polygon fill="#383838" points="255.5 629.969 245.5 633.969 255.5 637.969 251.5 633.969" style="stroke:#383838;stroke-width:1"/><text x="251.5" y="615.903" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58">pushEDS</text><polygon fill="#383838" points="421.5 659.102 431.5 663.102 421.5 667.102 425.5 663.102" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="427.5" y1="663.102" y2="663.102"/><text x="251.5" y="658.036" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165">send(DiscoveryResponse)</text><polygon fill="#383838" points="634 688.234 644 692.234 634 696.234 638 692.234" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="433.5" x2="640" y1="692.234" y2="692.234"/><text x="440.5" y="687.168" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124">DiscoveryResponse</text><line style="stroke:#000;stroke-width:1;stroke-dasharray:2,2" x1="167" x2="683.5" y1="701.234" y2="701.234"/><text x="172" y="711.445" fill="#000" font-family="FG Virgil" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103">[Route Request]</text><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="286.5" y1="736.172" y2="736.172"/><line style="stroke:#383838;stroke-width:1" x1="286.5" x2="286.5" y1="736.172" y2="749.172"/><line style="stroke:#383838;stroke-width:1" x1="245.5" x2="286.5" y1="749.172" y2="749.172"/><polygon fill="#383838" points="255.5 745.172 245.5 749.172 255.5 753.172 251.5 749.172" style="stroke:#383838;stroke-width:1"/><text x="251.5" y="731.106" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68">pushRoute</text><polygon fill="#383838" points="421.5 774.305 431.5 778.305 421.5 782.305 425.5 778.305" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="244.5" x2="427.5" y1="778.305" y2="778.305"/><text x="251.5" y="773.239" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165">send(DiscoveryResponse)</text><polygon fill="#383838" points="634 803.438 644 807.438 634 811.438 638 807.438" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1" x1="433.5" x2="640" y1="807.438" y2="807.438"/><text x="440.5" y="802.372" fill="#000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124">DiscoveryResponse</text></g></svg>